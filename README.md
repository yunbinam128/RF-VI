# RF-VI
This document instructs R codes for the manuscript "Random Forest Variable Importance-based Selection Algorithm in Class Imbalance Problem". Source codes are split into three R files "helper_vim.R", "simul_exp.R", and "real_exp.R".

## helper_vim.R
This file contains several helper functions.

### Function list
- *sim.imbalanced*: generates simulated dataset for Section 2.
- *get.oob.pred*: calculcate out-of-bag sample-based prediction in RF.
- *get.vim*: provides RF permutation variable importance.
- *get.kfold.splits*: provides k-fold cross-validation datasets.
- *proposed.method*: performs the proposed feature selection algorithm.
- *ref.method1*: performs lasso and elastic net feature selection methods.
- *ref.method2*: performs SPEC and Relief feature selection methods.

## simul_exp.R
This file contains codes for simulation studies in Section 2.

Step 0) Importing helper function
- Import "helper_vim.R" file.

Step 1) Investgating simulation data
- Simulation data are generated by N (number of samples) and IR (imbalance ratio).

Step 2) Measuring variable importance

## experiments.R
This file contains codes for illustrative example in Section 4.

Step 0) Importing RV144 dataset
- While the RV144 dataset cannot be shared because they are proprietary to the US Military HIV Research Program, interested researchers may request access to anonymized patient-level data at PubRequest@hivresearch.org.

Step 1) Experiments
- Codes in "1. Variable importance for vwRF" calculate variable weights for vwRF.
- Codes in "2-1. Prediction for RF and vwRF-based methods" compute prediction performance of RF and vwRF-based methods.
- Codes in "2-2. Prediction for LASSO, ElasticNet, AUCRF" compute prediction performance of RF-LS, RF-EN, and RF-AUCRF.


